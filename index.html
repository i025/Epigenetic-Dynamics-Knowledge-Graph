<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é«˜ä¸­ç”Ÿç‰©ï¼šè¡¨è§‚é—ä¼ åŠ¨æ€çŸ¥è¯†å›¾è°± (åŒæ¡ˆä¾‹é€‚é…ç‰ˆ)</title>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        :root { --primary: #2c3e50; --bg: #f0f2f5; }
        * { box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; height: 100vh; background: var(--bg); overflow: hidden; position: relative; }
        
        /* ğŸ”¥ å·¦ä¸Šè§’æ‚¬æµ®å¼€å…³æŒ‰é’® */
        #toggle-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            z-index: 1001; 
            background: white;
            border: 1px solid #e1e4e8;
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            font-weight: bold;
            color: var(--primary);
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        #toggle-btn:hover { background: #f8f9fa; }

        /* ğŸ”¥ ä¾§è¾¹æ ï¼šPCç«¯ä½¿ç”¨ margin å½»åº•é‡Šæ”¾ç‰©ç†ç©ºé—´ */
        #sidebar { 
            width: 280px; 
            background: white; 
            padding: 20px; 
            padding-top: 65px; 
            box-shadow: 4px 0 15px rgba(0,0,0,0.05); 
            z-index: 1000; 
            display: flex; 
            flex-direction: column; 
            border-right: 1px solid #e1e4e8;
            flex-shrink: 0;
            margin-left: 0;
            transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
        }
        
        /* PC ç«¯æŠ˜å çŠ¶æ€ */
        #sidebar.collapsed { 
            margin-left: -280px; 
        }
        
        /* æŒ‰é’®ç¾åŒ– */
        .control-btn { width: 100%; padding: 12px 15px; margin-bottom: 12px; border: none; border-radius: 8px; cursor: pointer; text-align: left; font-weight: 600; font-size: 14px; transition: all 0.2s; position: relative; overflow: hidden; }
        .control-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .control-btn:active { transform: translateY(0); }
        
        .btn-all { background: #e9ecef; color: #495057; }
        .btn-mech { background: #ffe3e3; color: #c92a2a; border-left: 5px solid #ff6b6b; }
        .btn-mice { background: #fff3bf; color: #f08c00; border-left: 5px solid #fcc419; }
        .btn-flower { background: #d3f9d8; color: #2b8a3e; border-left: 5px solid #51cf66; }

        /* ğŸ”¥ æ–°å¢ï¼šåº•éƒ¨ç‹¬ç«‹çš„æ‚¬æµ®ä¿¡æ¯é¢æ¿ */
        #bottom-info-panel {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) scale(1);
            width: 90%;
            max-width: 600px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            border-radius: 12px;
            border: 1px solid #e1e4e8;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            padding: 15px 20px;
            z-index: 999;
            display: flex;
            flex-direction: column;
            transition: transform 0.2s ease-out;
        }

        .info-title { font-weight: 700; color: var(--primary); margin-bottom: 8px; font-size: 1.1em; border-bottom: 2px solid #e1e4e8; padding-bottom: 5px;}
        .info-text { font-size: 0.9em; color: #555; line-height: 1.6; max-height: 100px; overflow-y: auto; }
        
        /* å›¾è°±å®¹å™¨ */
        #network-container { 
            flex-grow: 1; 
            background: #ffffff; 
            background-image: radial-gradient(#e1e4e8 1px, transparent 1px); 
            background-size: 20px 20px; 
            width: 100%; 
        }
        
        /* è°ƒæ•´å›¾ä¾‹ä½ç½®åˆ°å³ä¸Šè§’é˜²é®æŒ¡ */
        .legend { 
            position: absolute; 
            top: 20px; 
            right: 20px; 
            background: rgba(255,255,255,0.9); 
            padding: 12px; 
            border-radius: 8px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
            font-size: 13px; 
            line-height: 1.8; 
            pointer-events: none;
            z-index: 998;
        }
        .dot { width: 10px; height: 10px; display: inline-block; border-radius: 50%; margin-right: 8px; }

        /* ğŸ”¥ ç§»åŠ¨ç«¯å“åº”å¼é€‚é… */
        @media (max-width: 768px) {
            #sidebar {
                position: absolute; 
                height: 100%;
                left: 0;
                top: 0;
                margin-left: 0; 
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                box-shadow: 10px 0 20px rgba(0,0,0,0.2);
            }
            #sidebar.collapsed {
                margin-left: 0;
                transform: translateX(-100%); 
            }
            #bottom-info-panel {
                bottom: 15px;
                width: 95%;
                padding: 12px 15px;
            }
            .legend {
                top: 60px; 
                right: 10px;
                padding: 8px;
                font-size: 11px;
            }
            #toggle-btn {
                top: 10px; left: 10px;
            }
        }
    </style>
</head>
<body>

<button id="toggle-btn" onclick="toggleSidebar()">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    <span>èœå•</span>
</button>

<div id="sidebar">
    <h3 style="color:#2c3e50; margin-top:0;">ğŸ§¬ æ¡ˆä¾‹æ§åˆ¶å°</h3>
    <p style="font-size:13px; color:#888; margin-bottom: 20px;">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®åˆ‡æ¢æ•™å­¦åœºæ™¯ï¼š</p>
    
    <button class="control-btn btn-all" onclick="setScenario('all')">ğŸŒ å…¨æ™¯çŸ¥è¯†ç½‘ç»œ</button>
    <button class="control-btn btn-mech" onclick="setScenario('mech')">ğŸ”¬ å¾®è§‚æœºåˆ¶ (Mechanism)</button>
    <button class="control-btn btn-mice" onclick="setScenario('mice')">ğŸ Agoutiå°é¼  (é¥®é£Ÿ)</button>
    <button class="control-btn btn-flower" onclick="setScenario('flower')">ğŸŒ¸ æŸ³ç©¿é±¼èŠ±å‹ (çªå˜)</button>
</div>

<div id="network-container">
    <div class="legend">
        <div><span class="dot" style="background:#FFC107"></span>ç¯å¢ƒå› ç´ </div>
        <div><span class="dot" style="background:#63CCCA"></span>åˆ†å­ç»“æ„</div>
        <div><span class="dot" style="background:#FF6B6B"></span>è¡¨è§‚æœºåˆ¶</div>
        <div><span class="dot" style="background:#4AD295"></span>è¡¨å‹ç»“æœ</div>
    </div>
</div>

<div id="bottom-info-panel">
    <div class="info-title" id="node-title">ğŸ‘‹ å‡†å¤‡å°±ç»ª</div>
    <div class="info-text" id="node-desc">å›¾è°±å·²è½½å…¥ã€‚ç‚¹å‡»å›¾è°±ä¸­ä»»æ„èŠ‚ç‚¹å¯æŸ¥çœ‹è¯¦ç»†è§£æï¼Œæˆ–æ‰“å¼€å·¦ä¸Šè§’èœå•åˆ‡æ¢ç‰¹å®šå®éªŒæ¡ˆä¾‹ã€‚</div>
</div>

<script>
    const nodes = [
        { id: 1, label: "å­•é¼ å¯Œç”²åŸºé¥®é£Ÿ\n(å¶é…¸/B12)", group: "env", detail: "å¯Œå«å¶é…¸ã€ç»´ç”Ÿç´ B12çš„é¥®é£Ÿèƒ½ä¸ºDNAç”²åŸºåŒ–æä¾›å……è¶³çš„'ç”²åŸºä¾›ä½“'ï¼Œä¿ƒè¿›ç”²åŸºåŒ–ä¿®é¥°ã€‚" },
        { id: 2, label: "å­•é¼ ç¼ºç”²åŸºé¥®é£Ÿ\n(æˆ–æ¥è§¦åŒé…šA)", group: "env", detail: "ç¼ºä¹ç”²åŸºä¾›ä½“ï¼Œæˆ–æ¥è§¦æœ‰å®³ç¯å¢ƒå†…åˆ†æ³Œå¹²æ‰°ç‰©ï¼ˆå¦‚BPAï¼‰ï¼Œä¼šé˜»ç¢æ­£å¸¸çš„DNAç”²åŸºåŒ–å»ºç«‹ã€‚" },
        { id: 10, label: "DNAåºåˆ—\n(CpGå²›)", group: "mol", shape: "database", detail: "å¯Œå«èƒå˜§å•¶(C)å’Œé¸Ÿå˜Œå‘¤(G)çš„DNAç‰‡æ®µï¼Œé€šå¸¸ä½äºåŸºå› å¯åŠ¨å­åŒºåŸŸï¼Œæ˜¯ç”²åŸºåŒ–å‘ç”Ÿçš„ä¸»è¦ä½ç‚¹ã€‚" },
        { id: 11, label: "DNMT\n(ç”²åŸºè½¬ç§»é…¶)", group: "mol", shape: "diamond", detail: "DNAç”²åŸºè½¬ç§»é…¶ï¼Œè´Ÿè´£å°†ç”²åŸºåŸºå›¢å‚¬åŒ–åŠ åˆ°DNAåˆ†å­çš„èƒå˜§å•¶ä¸Šã€‚" }, 
        { id: 12, label: "è½¬å½•å› å­", group: "mol", detail: "ä¸å¯åŠ¨å­ç»“åˆä»è€Œå¼€å¯åŸºå› è½¬å½•çš„è›‹ç™½è´¨ã€‚å¦‚æœé‡åˆ°ç‰©ç†é˜»ç¢ï¼Œåˆ™æ— æ³•å¯åŠ¨åŸºå› è¡¨è¾¾ã€‚" },
        { id: 13, label: "LcycåŸºå› \n(æŸ³ç©¿é±¼)", group: "mol", shape: "database", detail: "æ§åˆ¶æŸ³ç©¿é±¼èŠ±å‹å¯¹ç§°æ€§çš„å…³é”®åŸºå› ã€‚å…¶DNAåºåˆ—åœ¨é‡ç”Ÿå‹å’Œçªå˜å‹ä¸­å®Œå…¨ä¸€è‡´ã€‚" },
        { id: 14, label: "AvyåŸºå› \n(å°é¼ )", group: "mol", shape: "database", detail: "æ§åˆ¶å°é¼ é»„è‰²ç´ åˆæˆçš„åŸºå› ã€‚å…¶å‰ç«¯æ’å…¥äº†ä¸€æ®µå®¹æ˜“å—ç”²åŸºåŒ–è°ƒæ§çš„è½¬åº§å­åºåˆ—ã€‚" },
        { id: 20, label: "é«˜ç”²åŸºåŒ–", group: "mech", shape: "box", detail: "åŸºå› å¯åŠ¨å­åŒºåŸŸè¢«æ·»åŠ äº†å¤§é‡çš„ç”²åŸºåŸºå›¢ï¼Œè¿™æ˜¯ä¸€ç§æŠ‘åˆ¶æ€§çš„è¡¨è§‚é—ä¼ æ ‡è®°ã€‚" },
        { id: 21, label: "ä½ç”²åŸºåŒ–", group: "mech", shape: "box", detail: "ç”²åŸºåŒ–æ°´å¹³å¾ˆä½æˆ–æœªè¢«ç”²åŸºåŒ–ï¼Œé€šå¸¸æ„å‘³ç€è¯¥åŒºåŸŸå¤„äºæ´»è·ƒå¼€æ”¾çŠ¶æ€ã€‚" },
        { id: 22, label: "æŸ“è‰²è´¨é«˜åº¦è‡´å¯†", group: "mech", detail: "é«˜ç”²åŸºåŒ–å¸¸æ‹›å‹Ÿå»ä¹™é…°åŒ–é…¶ï¼Œå¯¼è‡´DNAä¸ç»„è›‹ç™½ç¼ ç»•å¾—æä¸ºç´§å¯†ï¼Œå½¢æˆå¼‚æŸ“è‰²è´¨ã€‚" },
        { id: 23, label: "æŸ“è‰²è´¨ç»“æ„æ¾æ•£", group: "mech", detail: "ç¼ºä¹ç”²åŸºåŒ–é˜»ç¢ï¼ŒæŸ“è‰²è´¨ä¿æŒæ¾æ•£çŠ¶æ€ï¼ˆå¸¸æŸ“è‰²è´¨ï¼‰ï¼Œæš´éœ²å‡ºDNAåºåˆ—ã€‚" },
        { id: 30, label: "åŸºå› æ²‰é»˜\n(OFF)", group: "phe", shape: "ellipse", detail: "è½¬å½•å—é˜»ï¼Œå¯¼è‡´mRNAæ— æ³•åˆæˆï¼ŒåŸºå› å¤±å»åŠŸèƒ½ã€‚" },
        { id: 31, label: "åŸºå› è¡¨è¾¾\n(ON)", group: "phe", shape: "ellipse", detail: "åŸºå› è¢«æ­£å¸¸è½¬å½•å’Œç¿»è¯‘ï¼Œå‘æŒ¥å…¶åŸæœ¬çš„ç”Ÿç‰©å­¦åŠŸèƒ½ã€‚" },
        { id: 40, label: "å¥åº·å°é¼ \n(æ£•æ¯›/åŒ€ç§°)", group: "phe", color: "#8d6e63", font: {color:"white"}, detail: "AvyåŸºå› è¢«å…³é—­ï¼Œå°é¼ è¡¨ç°å‡ºæ­£å¸¸çš„æ£•è‰²çš®æ¯›ï¼Œä½“é‡æ­£å¸¸ï¼Œæ‚£ç—…é£é™©ä½ã€‚" },
        { id: 41, label: "ç–¾ç—…å°é¼ \n(é»„æ¯›/è‚¥èƒ–)", group: "phe", color: "#f8c471", detail: "AvyåŸºå› è¢«å¼‚å¸¸å¼€å¯ï¼ŒæŒç»­åˆæˆé»„è‰²ç´ å¹¶å¹²æ‰°ä»£è°¢ï¼Œå¯¼è‡´å°é¼ æ¯›è‰²å˜é»„ã€æåº¦è‚¥èƒ–ä¸”æ˜“æ‚£ç³–å°¿ç—…ã€‚" },
        { id: 42, label: "è¾å°„å¯¹ç§°èŠ±\n(å˜å¼‚å‹)", group: "phe", color: "#d7bde2", detail: "ç”±äºLcycåŸºå› æ²‰é»˜ï¼ŒèŠ±æœµæ— æ³•å‘è‚²æˆæ­£å¸¸çš„ä¸¤ä¾§å¯¹ç§°å½¢æ€ï¼Œå˜æˆäº†è¾å°„å¯¹ç§°ï¼ˆåƒç®¡å­ä¸€æ ·ï¼‰ã€‚" },
        { id: 43, label: "ä¸¤ä¾§å¯¹ç§°èŠ±\n(é‡ç”Ÿå‹)", group: "phe", color: "#a2d9ce", detail: "LcycåŸºå› æ­£å¸¸è¡¨è¾¾ï¼ŒèŠ±æœµå‘è‚²å‡ºå¤æ‚ä¸”é€‚åº”æ˜†è™«ä¼ ç²‰çš„ä¸¤ä¾§å¯¹ç§°å½¢æ€ã€‚" }
    ];

    const edges = [
        { from: 10, to: 20, label: "è¢«ä¿®é¥°", id: "m1", arrows:"to" },
        { from: 11, to: 20, label: "å‚¬åŒ–åŠ åŸº", id: "m2", dashes: true },
        { from: 20, to: 22, label: "å¯¼è‡´", id: "m3", arrows:"to" },
        { from: 22, to: 12, label: "ç‰©ç†é˜»ç¢", id: "m4", color:{color:'#e74c3c'}, arrows:"to" },
        { from: 12, to: 30, label: "æ— æ³•ç»“åˆ", id: "m5", arrows:"to" },
        { from: 10, to: 21, label: "æ— ä¿®é¥°", id: "m6", arrows:"to" },
        { from: 21, to: 23, label: "ç»´æŒ", id: "m7", arrows:"to" },
        { from: 23, to: 12, label: "æš´éœ²å¯åŠ¨å­", id: "m8", arrows:"to" },
        { from: 12, to: 31, label: "æˆåŠŸç»“åˆ", id: "m9", arrows:"to" },
        { from: 1, to: 20, label: "æä¾›ç”²åŸºä¾›ä½“", arrows:"to", id: "a1", width:3, color:{color:'#27ae60'} },
        { from: 14, to: 20, label: "å‰ç«¯åºåˆ—", arrows:"to", id: "a2" },
        { from: 20, to: 30, label: "æŠ‘åˆ¶è¡¨è¾¾", arrows:"to", id: "a3" },
        { from: 30, to: 40, label: "å†³å®šæ€§çŠ¶", arrows:"to", id: "a4" },
        { from: 2, to: 21, label: "å¯¼è‡´ä¸è¶³", arrows:"to", id: "a5", width:3, color:{color:'#e74c3c'} },
        { from: 14, to: 21, label: "å‰ç«¯åºåˆ—", arrows:"to", id: "a6" },
        { from: 21, to: 31, label: "å¼‚å¸¸è½¬å½•", arrows:"to", id: "a7" },
        { from: 31, to: 41, label: "å†³å®šæ€§çŠ¶", arrows:"to", id: "a8" },
        { from: 13, to: 20, label: "çªå˜æ ªå‘ç”Ÿ", arrows:"to", id: "f1" },
        { from: 20, to: 30, label: "åŸºå› æ²‰é»˜", arrows:"to", id: "f2" },
        { from: 30, to: 42, label: "æ”¹å˜èŠ±å‹", arrows:"to", id: "f3" },
        { from: 13, to: 21, label: "é‡ç”Ÿå‹æ­£å¸¸", arrows:"to", id: "f4" },
        { from: 21, to: 31, label: "æ­£å¸¸è¡¨è¾¾", arrows:"to", id: "f5" },
        { from: 31, to: 43, label: "ç»´æŒå½¢æ€", arrows:"to", id: "f6" }
    ];

    const container = document.getElementById('network-container');
    const data = { nodes: new vis.DataSet(nodes), edges: new vis.DataSet(edges) };
    
    const options = {
        nodes: { 
            margin: 12, shape: 'dot', size: 25, 
            font: { size: 15, strokeWidth: 2, strokeColor:'#ffffff' },
            shadow: { enabled: true, color: 'rgba(0,0,0,0.1)', size: 10, x: 5, y: 5 }
        },
        edges: { 
            width: 2, smooth: { type: 'dynamic' },
            font: { align: 'middle', size: 12, background: 'white', strokeWidth: 0 } 
        },
        groups: {
            env: { color: { background:'#FFC107', border:'#d35400' }, shape: 'hexagon', size:35 },
            mol: { color: { background:'#63CCCA', border:'#16a085' }, shape: 'diamond' },
            mech: { color: { background:'#FF6B6B', border:'#c0392b' }, shape: 'box', margin:10, font:{color:'white', strokeWidth: 0} },
            phe: { color: { background:'#4AD295', border:'#27ae60' }, font:{face:'bold', color:'white', strokeWidth: 0} }
        },
        physics: {
            enabled: true,
            barnesHut: { centralGravity: 0.3, springLength: 260, springConstant: 0.04, damping: 0.09, avoidOverlap: 1 }
        },
        interaction: { hover: true, tooltipDelay: 200 }
    };
    
    const network = new vis.Network(container, data, options);

    // --- ä¾§è¾¹æ äº¤äº’é€»è¾‘ ---
    const sidebar = document.getElementById('sidebar');
    
    // åˆå§‹åŒ–ï¼šå¦‚æœåœ¨æ‰‹æœºç«¯æ‰“å¼€ï¼Œé»˜è®¤æŠ˜å ä¾§è¾¹æ 
    if (window.innerWidth <= 768) {
        sidebar.classList.add('collapsed');
    }

    // åˆ‡æ¢ä¾§è¾¹æ çŠ¶æ€
    window.toggleSidebar = function() {
        sidebar.classList.toggle('collapsed');
        // ç­‰å¾…ä¾§è¾¹æ ç‰©ç†ç©ºé—´å®Œå…¨è®©å‡ºï¼Œé€šçŸ¥åº•å±‚ç”»å¸ƒè‡ªé€‚åº”æ”¾å¤§å¹¶é‡æ–°å±…ä¸­
        setTimeout(() => { network.fit({animation: {duration: 500}}); }, 300);
    };

    // åœºæ™¯åˆ‡æ¢é€»è¾‘ (é€»è¾‘æœªå˜)
    window.setScenario = function(type) {
        let showNodes = [], showEdges = [];
        if (type === 'all') {
            showNodes = nodes.map(n => n.id); showEdges = edges.map(e => e.id);
        } else if (type === 'mech') {
            showNodes = [10, 11, 20, 21, 22, 23, 12, 30, 31];
            showEdges = ['m1','m2','m3','m4','m5','m6','m7','m8','m9'];
        } else if (type === 'mice') {
            showNodes = [1, 2, 14, 20, 21, 30, 31, 40, 41]; 
            showEdges = ['a1','a2','a3','a4','a5','a6','a7','a8']; 
        } else if (type === 'flower') {
            showNodes = [13, 20, 21, 30, 31, 42, 43];
            showEdges = ['f1','f2','f3','f4','f5','f6'];
        }

        data.nodes.update(nodes.map(n => ({id: n.id, hidden: !showNodes.includes(n.id)})));
        data.edges.update(edges.map(e => ({id: e.id, hidden: !showEdges.includes(e.id)})));
        network.fit({animation: {duration: 800, easingFunction: "easeInOutQuad"}});
        
        const desc = {
            'all': 'å½“å‰å±•ç¤ºå…¨è²Œã€‚èŠ‚ç‚¹é—´è·å·²ä¼˜åŒ–ï¼Œæ‚¨å¯ä»¥éšæ„æ‹–æ‹½èŠ‚ç‚¹æ•´ç†å¸ƒå±€ï¼Œè§‚å¯Ÿè¡¨è§‚é—ä¼ çš„å¤šå±‚çº§è°ƒæ§ç½‘ã€‚',
            'mech': 'èšç„¦å¾®è§‚ï¼šè§‚å¯Ÿç”²åŸºåŒ–å¦‚ä½•å¯¼è‡´æŸ“è‰²è´¨è‡´å¯†ï¼Œäº§ç”Ÿâ€œç‰©ç†é˜»ç¢â€ä½¿è½¬å½•å› å­æ— æ³•ç»“åˆï¼Œä»è€Œæ²‰é»˜åŸºå› ã€‚',
            'mice': 'ç»å…¸æ¡ˆä¾‹ï¼šå­•é¼ çš„é¥®é£Ÿç¯å¢ƒï¼ˆæ˜¯å¦å¯Œå«ç”²åŸºï¼‰ç›´æ¥å†³å®šäº†åä»£ Avy åŸºå› çš„ç”²åŸºåŒ–ç¨‹åº¦ï¼Œè¿›è€Œå½±å“å°é¼ ä¸€ç”Ÿçš„å¥åº·ã€‚',
            'flower': 'ç»å…¸æ¡ˆä¾‹ï¼šLcyc åŸºå› åºåˆ—å®Œå…¨ä¸å˜ï¼Œä»…ä»…æ˜¯å› ä¸ºå‘ç”Ÿé«˜åº¦ç”²åŸºåŒ–è€Œè¢«æ²‰é»˜ï¼Œå°±å¯¼è‡´äº†æŸ³ç©¿é±¼èŠ±å‹å‘ç”Ÿå·¨å¤§å˜å¼‚ã€‚'
        };
        document.getElementById('node-title').innerText = "ğŸ“ åœºæ™¯ä»‹ç»";
        document.getElementById('node-desc').innerText = desc[type];

        if (window.innerWidth <= 768) {
            sidebar.classList.add('collapsed');
        }
    };

    // ç‚¹å‡»èŠ‚ç‚¹é€»è¾‘ï¼šä¸å†å¼¹å‡ºä¾§è¾¹æ ï¼Œè€Œæ˜¯è®©åº•éƒ¨çš„å¡ç‰‡æ›´æ–°å¹¶è½»å¾®è·³åŠ¨æç¤º
    network.on("click", function (params) {
        if (params.nodes.length) {
            const node = nodes.find(n => n.id === params.nodes[0]);
            document.getElementById('node-title').innerText = node.label.replace('\n', ' ');
            document.getElementById('node-desc').innerText = node.detail || "æš‚æ— è¯¦ç»†æè¿°ã€‚";
            
            // åº•éƒ¨é¢æ¿è·³åŠ¨åŠ¨ç”»
            const panel = document.getElementById('bottom-info-panel');
            panel.style.transform = 'translateX(-50%) scale(1.03)';
            setTimeout(() => {
                panel.style.transform = 'translateX(-50%) scale(1)';
            }, 200);
        }
    });
    
    setScenario('all');
</script>

<script src="ai-tutor.js"></script>

</body>
</html>
